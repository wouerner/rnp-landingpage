!function(e){e.fn.dataTable.pageLoadMore=function(a){var t=e.extend({url:"",data:null,method:"GET"},a),n=null,r=null;return function(a,i,o){if(!o.pageLoadMore){var p=new e.fn.dataTable.Api(o).page.info();o.pageLoadMore={pageLength:p.length}}var g=!1;if(n&&JSON.stringify(a.order)!==JSON.stringify(n.order)&&(actionType="order"),n&&(JSON.stringify(a.order)===JSON.stringify(n.order)&&JSON.stringify(a.columns)===JSON.stringify(n.columns)&&JSON.stringify(a.search)===JSON.stringify(n.search)||(g=!0)),n=e.extend(!0,{},a),"filter"!==actionType&&"search"!==actionType||(g=!0),"search"===actionType&&(a.actionType="search"),g&&(r=null,a.length=o.pageLoadMore.pageLength),a.start=a.length-o.pageLoadMore.pageLength,a.length=o.pageLoadMore.pageLength,e.isFunction(t.data)){var c=t.data(a);c&&e.extend(a,c)}else e.isPlainObject(t.data)&&e.extend(a,t.data);a.actionType=actionType,o.jqXHR=e.ajax({type:t.method,url:t.url,data:a,dataType:"json",cache:!1,success:function(a){"order"==actionType&&jQuery("#"+o.sTableId).DataTable().page.len(10);if("search"==actionType&&e("ul.dropdown-menu").find("input:checkbox").removeAttr("checked"),r&&(a.data=r.data.concat(a.data)),r=e.extend(!0,{},a),i(a),a.filterString){e("ul.dropdown-menu").find("input:checkbox").removeAttr("checked");var t=e.parseJSON(a.filterString[0]);e.each(t,function(a,t){e.each(t,function(a){e("input[value='"+t[a]+"']").prop("checked",!0)})})}}})}},e.fn.dataTable.Api.register("page.resetMore()",function(){return this.iterator("table",function(e){api.page.len(e.pageLoadMore.pageLength)})}),e.fn.dataTable.Api.register("page.hasMore()",function(){return this.page.info().pages>1}),e.fn.dataTable.Api.register("page.loadMore()",function(){return this.iterator("table",function(e){var a=this.page.info();a.pages>1&&(e.pageLoadMore||(e.pageLoadMore={pageLength:a.length}),this.page.len(a.length+e.pageLoadMore.pageLength).draw("page"))})}),e.fn.dataTable.render.ellipsis=function(e,a,t){var n=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};return function(r,i,o){if("display"!==i)return r;if("number"!=typeof r&&"string"!=typeof r)return r;if((r=r.toString()).length<=e)return r;var p=r.substr(0,e-1);return a&&(p=p.replace(/\s([^\s]*)$/,"")),t&&(p=n(p)),'<span class="ellipsis" title="'+n(r)+'">'+p+"&#8230;</span>"}}}(jQuery);